#textdomain wesnoth-Ageless_Era

#define WEAPON_SPECIAL_SWALLOW
    [damage]
        id=swallow
        name= _ "Swallow +4"
        name_inactive= _ "Swallow +4"
        description=_"
This unit gains 4 hitpoints added to its current health whenever it kills a living unit."
        description_inactive=_"
This unit gains 4 hitpoints added to its current health whenever it kills a living unit."
    [/damage]
#enddef

#define SWALLOW_EVENT
    [event]
        name=die
        first_time_only=no

        [filter]
            [not]
                [filter_wml]
                    [status]
                        not_living="yes"
                    [/status]
                [/filter_wml]
            [/not]
        [/filter]

        [filter_second_attack]
            name=fangswyv
        [/filter_second_attack]

        [unstore_unit]
            variable=second_unit
            {COLOR_HEAL}
            text= _ "+4"
            find_vacant=no
        [/unstore_unit]

        [object]
            silent=yes
            duration=forever

            [filter]
                x,y=$x2,$y2
            [/filter]

            [effect]
                apply_to=hitpoints
                increase=4
            [/effect]
        [/object]
    [/event]
#enddef
