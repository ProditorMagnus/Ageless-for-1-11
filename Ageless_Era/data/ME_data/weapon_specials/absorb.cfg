#textdomain wesnoth-Ageless_Era

#define PK_WEAPON_SPECIAL_ABSORB
    [dummy]
        id=absorb
        name= _ "absorb"
        description=_"
This unit absorbs the body of living units. It is able to surpass its maximum health through draining when attacking."
    [/dummy]
#enddef

#define PK_WEAPON_SPECIAL_ABSORB_EVENT HP UNIT_TYPE
    [event]
        name=attack
        first_time_only=no
        [filter]
            type={UNIT_TYPE}
        [/filter]
        [store_unit]
            [filter]
                id=$unit.id
            [/filter]
            variable=temp_var
        [/store_unit]
        [set_variable]
            name=temp_var.max_hitpoints
            value=100000
        [/set_variable]
        [unstore_unit]
            variable=temp_var
        [/unstore_unit]
        {CLEAR_VARIABLE temp_var}
    [/event]
    [event]
        name=attack_end
        first_time_only=no
        [filter]
            type={UNIT_TYPE}
        [/filter]
        [store_unit]
            variable=temp_var
            [filter]
                x=$x1
                y=$y1
            [/filter]
        [/store_unit]
        [set_variable]
            name=temp_var.max_hitpoints
            value={HP}
        [/set_variable]
        [unstore_unit]
            variable=temp_var
        [/unstore_unit]
        {CLEAR_VARIABLE temp_var}
    [/event]
#enddef

## NOTICE The hp scaling seems odd to me -Sandy
#ifndef PK_WEAPON_SPECIAL_ABSORB_EVENT1
#define PK_WEAPON_SPECIAL_ABSORB_EVENT1 UNIT_TYPE
    {PK_WEAPON_SPECIAL_ABSORB_EVENT 10 {UNIT_TYPE}}
#enddef
#endif

#ifndef PK_WEAPON_SPECIAL_ABSORB_EVENT2
#define PK_WEAPON_SPECIAL_ABSORB_EVENT2 UNIT_TYPE
    {PK_WEAPON_SPECIAL_ABSORB_EVENT 24 {UNIT_TYPE}}
#enddef
#endif

#ifndef PK_WEAPON_SPECIAL_ABSORB_EVENT3
#define PK_WEAPON_SPECIAL_ABSORB_EVENT3 UNIT_TYPE
    {PK_WEAPON_SPECIAL_ABSORB_EVENT 30 {UNIT_TYPE}}
#enddef
#endif

#ifndef PK_WEAPON_SPECIAL_ABSORB_EVENT4
#define PK_WEAPON_SPECIAL_ABSORB_EVENT4 UNIT_TYPE
    {PK_WEAPON_SPECIAL_ABSORB_EVENT 28 {UNIT_TYPE}}
#enddef
#endif

#ifndef PK_WEAPON_SPECIAL_ABSORB_EVENT5
#define PK_WEAPON_SPECIAL_ABSORB_EVENT5 UNIT_TYPE
    {PK_WEAPON_SPECIAL_ABSORB_EVENT 40 {UNIT_TYPE}}
#enddef
#endif
