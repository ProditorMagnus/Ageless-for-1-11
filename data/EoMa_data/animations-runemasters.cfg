#RUNEMASTERS ANIMATIONS
#----------------------------------------------------------------------------------------
#define BALOON_BOMB_ANIM UNIT FILTER
    [attack_anim]
        [filter_attack]
            name={FILTER}
        [/filter_attack]
        missile_start_time=-300
        [if]
            hits=yes
            [missile_frame]
                duration=300
                image="projectiles/bomb.png"
                image_diagonal="projectiles/bomb.png"
                offset=0.0~0.9
            [/missile_frame]
            {EXPLOSION_SINGLE_ANIM 1.0}
            start_time=-500
            [frame]
                image="units/runemasters-machines/{UNIT}2.png:500"
            [/frame]
        [/if]
        [else]
            hits=miss
            [missile_frame]
                duration=300
                image="projectiles/bomb.png"
                image_diagonal="projectiles/bomb.png"
                offset=0.0~0.9
            [/missile_frame]
            start_time=-300
            [frame]
                image="units/runemasters-machines/{UNIT}2.png:300"
            [/frame]
        [/else]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define BALOON_MACHINEGUN_ANIM UNIT DIRECTION VARIANT
    [attack_anim]
        [filter_attack]
            name=mg
        [/filter_attack]
        [if]
            hits=yes
            [missile_frame]
                duration=50
                image="projectiles/muzzle-flash-{VARIANT}-1.png"
                offset=0.2~1.0
                auto_vflip=no
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/muzzle-flash-{VARIANT}-1.png"
                offset=0.2~1.0
                auto_vflip=no
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/muzzle-flash-{VARIANT}-1.png"
                offset=0.2~1.0
                auto_vflip=no
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/muzzle-flash-{VARIANT}-1.png"
                offset=0.2~1.0
                auto_vflip=no
            [/missile_frame]
        [/if]
        [else]
            [missile_frame]
                duration=50
                image="projectiles/muzzle-flash-{VARIANT}-1.png"
                offset=0.2~1.5
                auto_vflip=no
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/muzzle-flash-{VARIANT}-1.png"
                offset=0.2~1.5
                auto_vflip=no
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/muzzle-flash-{VARIANT}-1.png"
                offset=0.2~1.5
                auto_vflip=no
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/muzzle-flash-{VARIANT}-1.png"
                offset=0.2~1.5
                auto_vflip=no
            [/missile_frame]
        [/else]
        direction={DIRECTION}
        [frame]
            duration=25
            image="units/runemasters-machines/{UNIT}-attack.png"
            sound=ckm.wav
        [/frame]
        [frame]
            duration=25
            image="units/runemasters-machines/{UNIT}1.png"
        [/frame]
        [frame]
            duration=25
            image="units/runemasters-machines/{UNIT}-attack.png"
        [/frame]
        [frame]
            duration=25
            image="units/runemasters-machines/{UNIT}1.png"
        [/frame]
        [frame]
            duration=25
            image="units/runemasters-machines/{UNIT}-attack.png"
        [/frame]
        [frame]
            duration=25
            image="units/runemasters-machines/{UNIT}1.png"
        [/frame]
        [frame]
            duration=25
            image="units/runemasters-machines/{UNIT}-attack.png"
        [/frame]
        [frame]
            duration=25
            image="units/runemasters-machines/{UNIT}1.png"
        [/frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define DEATH_EXPLOSION3_ANIM PATH
    [death]
        missile_start_time=0
        {EXPLOSION_SINGLE_ANIM 0.0}
        [frame]
            image="{PATH}[2,3,2,1].png:250"
        [/frame]
    [/death]
#enddef
#----------------------------------------------------------------------------------------
#define SM_SEMICANNON_ANIM UNIT FILTER DIRECTION X Y X2 Y2
    [attack_anim]
        [filter_attack]
            name={FILTER}
        [/filter_attack]
        [if]
            hits=yes
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.0
                directional_x,directional_y={X},{Y}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.0
                directional_x,directional_y={X2},{Y2}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.0
                directional_x,directional_y={X},{Y}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.0
                directional_x,directional_y={X2},{Y2}
            [/missile_frame]
        [/if]
        [else]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.5
                directional_x,directional_y={X},{Y}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.5
                directional_x,directional_y={X2},{Y2}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.5
                directional_x,directional_y={X},{Y}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.5
                directional_x,directional_y={X2},{Y2}
            [/missile_frame]
        [/else]
        direction={DIRECTION}
        [frame]
            duration=50
            image="units/runemasters-machines/{UNIT}-attack1.png"
            sound=ckm.wav
        [/frame]
        [frame]
            duration=50
            image="units/runemasters-machines/{UNIT}-attack2.png"
        [/frame]
        [frame]
            duration=50
            image="units/runemasters-machines/{UNIT}-attack1.png"
        [/frame]
        [frame]
            duration=50
            image="units/runemasters-machines/{UNIT}-attack2.png"
        [/frame]
        [frame]
            duration=1
            image="units/runemasters-machines/{UNIT}2.png"
        [/frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define TANK_CANNON_ANIM UNIT FILTER DIRECTION
    [attack_anim]
        [filter_attack]
            name={FILTER}
        [/filter_attack]
        direction={DIRECTION}
        missile_start_time=-50
        [if]
            hits=yes
            [missile_frame]
                halo="projectiles/fireball-impact-[1~4].png:60"
                offset=1.0
                sound=explosion.ogg
                auto_vflip=no
            [/missile_frame]
            {EXPLOSION_SINGLE_ANIM 1.0}
        [/if]
        [else]
            [missile_frame]
            [/missile_frame]
        [/else]
        [frame]
            image="units/runemasters-machines/{UNIT}-attack[1~3].png:100"
            sound=thunderstick.ogg
        [/frame]
        [frame]
            image="units/runemasters-machines/{UNIT}-attack[4~6].png:100"
            sound=thunderstick.ogg
        [/frame]
        [frame]
            duration=1
            image="units/runemasters-machines/{UNIT}2.png"
        [/frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define TANK_CANNONFAST_ANIM UNIT FILTER DIRECTION X Y X2 Y2
    #[attack_anim]
    #    [filter_attack]
    #        name={FILTER}
    #    [/filter_attack]
    #    direction={DIRECTION}
    #    [frame]
    #        image="units/runemasters-machines/{UNIT}-attack[1,3].png:100"
    #		sound=thunderstick.ogg
    #		offset=0.0
    #    [/frame]
    #	[frame]
    #        image="units/runemasters-machines/{UNIT}-attack[4,6].png:100"
    #		sound=thunderstick.ogg
    #		offset=0.0
    #    [/frame]
    #	[frame]
    #        duration=1
    #        image="units/runemasters-machines/{UNIT}2.png"
    #    [/frame]
    #[/attack_anim]
    [attack_anim]
        [filter_attack]
            name={FILTER}
        [/filter_attack]
        [if]
            hits=yes
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.0
                directional_x,directional_y={X},{Y}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.0
                directional_x,directional_y={X2},{Y2}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.0
                directional_x,directional_y={X},{Y}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.0
                directional_x,directional_y={X2},{Y2}
            [/missile_frame]
        [/if]
        [else]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.5
                directional_x,directional_y={X},{Y}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.5
                directional_x,directional_y={X2},{Y2}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.5
                directional_x,directional_y={X},{Y}
            [/missile_frame]
            [missile_frame]
                duration=50
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.5
                directional_x,directional_y={X2},{Y2}
            [/missile_frame]
        [/else]
        direction={DIRECTION}
        [frame]
            duration=50
            image="units/runemasters-machines/{UNIT}-attack1.png"
            sound=ckm.wav
        [/frame]
        [frame]
            duration=50
            image="units/runemasters-machines/{UNIT}-attack4.png"
        [/frame]
        [frame]
            duration=50
            image="units/runemasters-machines/{UNIT}-attack1.png"
        [/frame]
        [frame]
            duration=50
            image="units/runemasters-machines/{UNIT}-attack4.png"
        [/frame]
        [frame]
            duration=1
            image="units/runemasters-machines/{UNIT}2.png"
        [/frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define DWARFMACHINE_DIE_ANIM UNIT
    [death]
        [frame]
            image="units/runemasters-machines/{UNIT}2.png"
            halo=projectiles/fireball-impact-[1~5].png:40
            halo_x,halo_y=-15,-10
            sound=explosion.ogg
        [/frame]
        [frame]
            image="units/runemasters-machines/{UNIT}2.png"
            halo=projectiles/fireball-impact-[3~7].png:40
            halo_x,halo_y=15,10
            sound=explosion.ogg
        [/frame]
        [frame]
            image="units/runemasters-machines/{UNIT}2.png"
            halo=projectiles/fireball-impact-[5~9].png
            halo_x,halo_y=0,0
            sound=explosion.ogg
        [/frame]
        [frame]
            begin=600
            end=640
            image="units/runemasters-machines/{UNIT}2.png"
            halo=projectiles/fireball-impact-[3~16].png
            halo_x,halo_y=10,0
            sound=explosion.ogg
        [/frame]
    [/death]
#enddef
#----------------------------------------------------------------------------------------
#define DWARFMACHINE_STANDMOVE_ANIM UNIT
    [standing_anim]
        direction=s,se,sw
        [frame]
            image="units/runemasters-machines/{UNIT}[1~3].png:100"
            halo=halo/steam[2~4].png:100
            halo_x=-6
        [/frame]
    [/standing_anim]
    [standing_anim]
        direction=n,ne,nw
        [frame]
            image="units/runemasters-machines/{UNIT}-ne[1~3].png:100"
            halo=halo/steam[2~4].png:100
            halo_x=-6
        [/frame]
    [/standing_anim]
    [movement_anim]
        direction=s
        [frame]
            image="units/runemasters-machines/{UNIT}-s2.png:100"
        [/frame]
    [/movement_anim]
    [movement_anim]
        direction=n
        [frame]
            image="units/runemasters-machines/{UNIT}-n2.png:100"
        [/frame]
    [/movement_anim]
#enddef
#----------------------------------------------------------------------------------------
#define DWARFMACHINE_MELEE_ANIM UNIT FILTER
    [attack_anim]
        [filter_attack]
            name={FILTER}
        [/filter_attack]
        start_time=-200
        [frame]
            duration=150
            image="units/runemasters-machines/{UNIT}2.png"
        [/frame]
        [if]
            hits=yes
            [frame]
                duration=200
                image="units/runemasters-machines/{UNIT}2.png"
                sound=mace.wav
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                duration=200
                image="units/runemasters-machines/{UNIT}2.png"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define DEATH_STEAMROBOT_ANIM
    [death]
        [frame]
            image="units/runemasters-robots/steamulfserker-die[1~5].png:80"
            halo=projectiles/fireball-impact-[3~16].png:40
            halo_x,halo_y=0,10
            sound=explosion.ogg
        [/frame]
        [frame]
            image="units/runemasters-robots/steamulfserker-die6.png:100"
        [/frame]
    [/death]
#enddef
#----------------------------------------------------------------------------------------
#define STEAMROBOT_ATTACK_ANIM UNIT FILTER
    #[attack_anim]
    #    [filter_attack]
    #        name={FILTER}
    #    [/filter_attack]
    #		start_time=-150
    #        [frame]
    #            image="units/runemasters-robots/{UNIT}1.png:50"
    #        [/frame]
    #        [if]
    #            hits=yes
    #            [frame]
    #                image="units/runemasters-robots/{UNIT}-attack.png:200"
    #                sound=mace.wav
    #            [/frame]
    #        [/if]
    #        [else]
    #            hits=no
    #            [frame]
    #                image="units/runemasters-robots/{UNIT}-attack.png:200"
    #                sound={SOUND_LIST:MISS}
    #            [/frame]
    #        [/else]
    #        [frame]
    #            image="units/runemasters-robots/{UNIT}1.png:75"
    #        [/frame]
    #    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name={FILTER}
        [/filter_attack]

        [if]
            [filter_second_attack]
            [/filter_second_attack]
            value_second=1
            ###standard

            start_time=-150
        [/if]
        [else]
            ###easy target

            start_time=-3640
            offset=0.0

            value_second=1
            [frame]
                image="units/runemasters-robots/{UNIT}1.png:3490"
                sound=dwarf-machine-laugh.wav,dwarf-machine-laugh2.wav
            [/frame]
        [/else]
        [else]
            start_time=-150
        [/else]

        [frame]
            image="units/runemasters-robots/{UNIT}-attack.png:150"
            offset=0.0~0.8
        [/frame]
        [frame]
            image="units/runemasters-robots/{UNIT}1.png:125"
            offset=0.8~0.0
        [/frame]

        {SOUND:HIT_AND_MISS mace.wav {SOUND_LIST:MISS} -50}
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define REDULFSERKER_ATTACK DIRECTION VARIANT
    [attack_anim]
        [filter_attack]
            name=berserker frenzy
        [/filter_attack]
        direction={DIRECTION}
        start_time=-150
        [frame]
            image="units/runemasters-robots/redulfserker-attack-{VARIANT}1.png:50"
        [/frame]
        [frame]
            image="units/runemasters-robots/redulfserker-attack-{VARIANT}2.png:100"
        [/frame]
        [if]
            hits=yes
            [frame]
                image="units/runemasters-robots/redulfserker1.png:125"
                sound=mace.wav
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                image="units/runemasters-robots/redulfserker1.png:125"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define RUNES_ANIM VARIANT SCALE
    [attack_anim]
        [filter_attack]
            name=runes
        [/filter_attack]
        start_time=-250
        missile_start_time=-50
        missile2_start_time=-50
        [missile_frame]
            halo=halo/rune-{VARIANT}[1~5].png:30
            halo_mod=~SCALE({SCALE}, {SCALE})
            auto_vflip=false
            offset=1.0
            sound=magic-dark.ogg
        [/missile_frame]
        [missile2_frame]
            image=halo/rune-glow.png
            image_mod=~SCALE({SCALE}, {SCALE})
            auto_vflip=false
            layer=99
            alpha=0.0~1.0:75,1.0~0.0:75
            offset=1.0
        [/missile2_frame]
        [frame]
            sound=um-miss.ogg
            halo="halo/mystic-magic[1~5,4~1].png~GS()~CS(128,80,0):[50*4,125,50*4]"
            halo_y=4
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=ice runes
        [/filter_attack]
        start_time=-250
        missile_start_time=-50
        missile2_start_time=-50
        [missile_frame]
            halo=halo/rune-{VARIANT}[1~5].png~GS()~CS(0,128,255):30
            halo_mod=~SCALE({SCALE}, {SCALE})
            auto_vflip=false
            offset=1.0
            sound=magic-dark.ogg
        [/missile_frame]
        [missile2_frame]
            image=halo/rune-glow.png~GS()~CS(0,128,255)
            image_mod=~SCALE({SCALE}, {SCALE})
            auto_vflip=false
            layer=99
            alpha=0.0~1.0:75,1.0~0.0:75
            offset=1.0
        [/missile2_frame]
        [frame]
            sound=um-miss.ogg
            halo="halo/mystic-magic[1~5,4~1].png~GS()~CS(0,128,255):[50*4,125,50*4]"
            halo_y=4
        [/frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define REDULFSERKER_MOVEMENT DIRECTION VARIANT
    [movement_anim]
        direction={DIRECTION}
        [frame]
            image="units/runemasters-robots/redulfserker-attack-{VARIANT}1.png:50"
        [/frame]
        [frame]
            image="units/runemasters-robots/redulfserker-attack-{VARIANT}2.png:150"
        [/frame]
    [/movement_anim]
#enddef
#----------------------------------------------------------------------------------------
#define SMALLROCKET_ANIM FILTER X Y
    [attack_anim]
        [filter_attack]
            name={FILTER}
        [/filter_attack]
        missile_start_time=-150
        [if]
            hits=yes
            [missile_frame]
                duration=150
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.0
                directional_x,directional_y={X},{Y}
                auto_vflip=np
            [/missile_frame]
            {EXPLOSION_SINGLE_ANIM 1.0}
        [/if]
        [else]
            [missile_frame]
                duration=150
                image="projectiles/fire-breath-1.png"
                offset=0.0~1.5
                directional_x,directional_y={X},{Y}
                auto_vflip=np
            [/missile_frame]
            {EXPLOSION_SINGLE_ANIM 1.5}
        [/else]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define MISSILE_FRAME_MUZZLE_FLARE_SCALE_HIT_NORTH START_X START_Y SCALEX SCALEY
    missile_start_time=-250
    missile_offset=0.5~1.1:250,1.1~1.5:200,1.5~1.7:360
    missile_halo_x={START_X}~0
    missile_halo_y={START_Y}~0
    [missile_frame]
        halo="projectiles/muzzle-flash-n-[1~3].png:[100,80,70],projectiles/muzzle-flash-[4~14].png:60"
        halo_mod=~SCALE({SCALEX},{SCALEY})
    [/missile_frame]
#enddef

#define MISSILE_FRAME_MUZZLE_FLARE_SCALE_HIT_SOUTH START_X START_Y SCALEX SCALEY
    missile_start_time=-250
    missile_offset=0.5~1.1:250,1.1~1.5:200,1.5~1.7:360
    missile_halo_x={START_X}~0
    missile_halo_y={START_Y}~0
    [missile_frame]
        halo="projectiles/muzzle-flash-s-[1~3].png~FL(vertical):[100,80,70],projectiles/muzzle-flash-[4~14].png:60"
        halo_mod=~SCALE({SCALEX},{SCALEY})
    [/missile_frame]
#enddef

#define MISSILE_FRAME_MUZZLE_FLARE_SCALE_HIT_DIAG_NORTH START_X START_Y SCALEX SCALEY
    missile_start_time=-250
    missile_offset=0.5~1.1:250,1.1~1.5:200,1.5~1.7:360
    missile_halo_x={START_X}~0
    missile_halo_y={START_Y}~0
    [missile_frame]
        halo="projectiles/muzzle-flash-ne-[1~3].png:[100,80,70],projectiles/muzzle-flash-[4~14].png:60"
        halo_mod=~SCALE({SCALEX},{SCALEY})
    [/missile_frame]
#enddef

#define MISSILE_FRAME_MUZZLE_FLARE_SCALE_HIT_DIAG_SOUTH START_X START_Y SCALEX SCALEY
    missile_start_time=-250
    missile_offset=0.5~1.1:250,1.1~1.5:200,1.5~1.7:360
    missile_halo_x={START_X}~0
    missile_halo_y={START_Y}~0
    [missile_frame]
        halo="projectiles/muzzle-flash-se-[1~3].png~FL(vertical):[100,80,70],projectiles/muzzle-flash-[4~14].png:60"
        halo_mod=~SCALE({SCALEX},{SCALEY})
    [/missile_frame]
#enddef
#----------------------------------------------------------------------------------------
#define MECHANIC_ATTACK_ANIM UNIT NAME TYPE SOUND
    [attack_anim]
        [filter_attack]
            name={NAME}
        [/filter_attack]
        start_time=-200
        [frame]
            image="units/runemasters-dwarves/{UNIT}-{TYPE}.png:100"
        [/frame]
        [if]
            hits=yes
            [frame]
                image="units/runemasters-dwarves/{UNIT}-{TYPE}.png:200"
                sound={SOUND}
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                image="units/runemasters-dwarves/{UNIT}-{TYPE}.png:200"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            image="units/runemasters-dwarves/{UNIT}-{TYPE}.png:100"
        [/frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
