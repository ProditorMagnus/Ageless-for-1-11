# wmllint: no translatables

## | Global Use Animation Macros

#define SUB_FRAME_LIGHTNING VARIATION DIR HALO_X HALO_Y COND
    [{COND}]
        hits=no
        direction={DIR}
        start_time=-300
        [frame]
            halo=halo/lightning-bolt-{VARIATION}-[1,2,4].png:100,misc/blank-hex.png:100
            halo_x,halo_y={HALO_X},{HALO_Y}
        [/frame]
    [/{COND}]
    [else]
        hits=yes
        direction={DIR}
        start_time=-300
        [frame]
            halo=halo/lightning-bolt-{VARIATION}-[1~4].png:[100,100,200,50],misc/blank-hex.png:50
            halo_x,halo_y={HALO_X},{HALO_Y}
        [/frame]
    [/else]
#enddef

#define SUB_ANIM_LIGHTNING VARIATION
    [attack_anim]
        [filter_attack]
            name=lightning
        [/filter_attack]

        #dummy missile frame to block the sliding otherwise
        missile_start_time=-100
        [missile_frame]
            duration=100
        [/missile_frame]

        {SUB_FRAME_LIGHTNING {VARIATION} n 0 -210 if}
        {SUB_FRAME_LIGHTNING {VARIATION} s 0 -72 else}
        {SUB_FRAME_LIGHTNING {VARIATION} se,sw 54 -104 else}
        {SUB_FRAME_LIGHTNING {VARIATION} ne,nw 54 -176 else}

        {SOUND:HIT_AND_MISS lightning.ogg lightning-miss.ogg -300}
    [/attack_anim]
#enddef

#define SUB_ANIM_DIVINE_LIGHTNING VARIATION
    [attack_anim]
        [filter_attack]
            name=divine lightning
        [/filter_attack]

        #dummy missile frame to block the sliding otherwise
        missile_start_time=-100
        [missile_frame]
            duration=100
        [/missile_frame]

        {SUB_FRAME_LIGHTNING {VARIATION} n 0 -210 if}
        {SUB_FRAME_LIGHTNING {VARIATION} s 0 -72 else}
        {SUB_FRAME_LIGHTNING {VARIATION} se,sw 54 -104 else}
        {SUB_FRAME_LIGHTNING {VARIATION} ne,nw 54 -176 else}

        {SOUND:HIT_AND_MISS lightning.ogg lightning-miss.ogg -300}
    [/attack_anim]
#enddef


#define ANIM_LIGHTNING
    {SUB_ANIM_LIGHTNING 1}
    {SUB_ANIM_LIGHTNING 2}
    {SUB_ANIM_LIGHTNING 3}
#enddef

#define ANIM_DIVINE_LIGHTNING
    {SUB_ANIM_DIVINE_LIGHTNING divine-1}
    {SUB_ANIM_DIVINE_LIGHTNING divine-2}
    {SUB_ANIM_DIVINE_LIGHTNING divine-3}
#enddef
